var MMCQ,PriorityQueue;PriorityQueue=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return null==t&&(t=this.contents.length-1),this.sorted||this.sort(),this.contents[t]},t.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.contents.map(t)},t}(),MMCQ=function(){function t(){this.maxIterations=1e3,this.fractByPopulations=.75}var e,o,n,r,i,s;return t.sigbits=5,t.rshift=8-t.sigbits,r=function(e,o,n){return(e<<2*t.sigbits)+(o<<t.sigbits)+n},e=function(){function e(t,e,o,n,r,i,s){this.r1=t,this.r2=e,this.g1=o,this.g2=n,this.b1=r,this.b2=i,this.histo=s}return e.prototype.volume=function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},e.prototype.count=function(t){var e,o,n,i,s,a,c,u,l,f,h;if(!this._count_set||t){for(i=0,s=a=this.r1,l=this.r2;a<=l;s=a+=1)for(o=c=this.g1,f=this.g2;c<=f;o=c+=1)for(e=u=this.b1,h=this.b2;u<=h;e=u+=1)n=r(s,o,e),i+=this.histo[n]||0;this._count_set=!0,this._count=i}return this._count},e.prototype.copy=function(){return new e(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},e.prototype.average=function(e){var o,n,i,s,a,c,u,l,f,h,g,p,d,m,b,v;if(!this._average||e){for(u=1<<8-t.sigbits,h=0,f=0,s=0,n=0,l=g=this.r1,m=this.r2;g<=m;l=g+=1)for(i=p=this.g1,b=this.g2;p<=b;i=p+=1)for(o=d=this.b1,v=this.b2;d<=v;o=d+=1)c=r(l,i,o),h+=a=this.histo[c]||0,f+=a*(l+.5)*u,s+=a*(i+.5)*u,n+=a*(o+.5)*u;this._average=h?[~~(f/h),~~(s/h),~~(n/h)]:[~~(u*(this.r1+this.r2+1)/2),~~(u*(this.g1+this.g2+1)/2),~~(u*(this.b1+this.b2+1)/2)]}return this._average},e.prototype.contains=function(e){var o,n,r;return r=e[0]>>t.rshift,n=e[1]>>t.rshift,o=e[2]>>t.rshift,this.r1<=r&&r<=this.r2&&this.g1<=n&&n<=this.g2&&this.b1<=o&&o<=this.b2},e}(),o=function(){function t(){this.cboxes=new PriorityQueue(function(t,e){var o,n;return o=t.count()*t.volume(),n=e.count()*e.volume(),o>n?1:o<n?-1:0})}return t.prototype.push=function(t){return this.cboxes.push({cbox:t,color:t.average()})},t.prototype.palette=function(){return this.cboxes.map(function(t){return t.color})},t.prototype.size=function(){return this.cboxes.size()},t.prototype.map=function(t){var e,o,n;for(e=o=0,n=this.cboxes.size();o<n;e=o+=1)return this.cboxes.peek(e).cbox.contains(t)?this.cboxes.peek(e).color:this.nearest(t)},t.prototype.cboxes=function(){return this.cboxes},t.prototype.nearest=function(t){var e,o,n,r,i,s,a;for(i=function(t){return t*t},n=1e9,o=s=0,a=this.cboxes.size();s<a;o=s+=1)(e=Math.sqrt(i(t[0]-this.cboxes.peek(o).color[0])+i(t[1]-this.cboxes.peek(o).color[1])+i(t[2]-this.cboxes.peek(o).color[2])))<n&&(n=e,r=this.cboxes.peek(o).color);return r},t}(),i=function(e){var o,n,i,s,a,c,u,l,f;for(s=1<<3*t.sigbits,i=new Array(s),l=0,f=e.length;l<f;l++)u=(c=e[l])[0]>>t.rshift,n=c[1]>>t.rshift,o=c[2]>>t.rshift,i[a=r(u,n,o)]=(i[a]||0)+1;return i},n=function(o,n){var r,i,s,a,c,u,l,f,h,g,p,d;for(g=1e6,h=0,u=1e6,c=0,s=1e6,i=0,p=0,d=o.length;p<d;p++)f=(l=o[p])[0]>>t.rshift,a=l[1]>>t.rshift,r=l[2]>>t.rshift,f<g?g=f:f>h&&(h=f),a<u?u=a:a>c&&(c=a),r<s?s=r:r>i&&(i=r);return new e(g,h,u,c,s,i,n)},s=function(t,e){var o,n,i,s,a,c,u,l,f,h,g,p,d,m,b,v,C,y,x,_,w,P,k,j,z,B,M,S,D,I;if(e.count()){if(1===e.count())return[e.copy()];if(h=e.r2-e.r1+1,a=e.g2-e.g1+1,n=e.b2-e.b1+1,u=Math.max(h,a,n),p=0,l=[],c=[],u===h)for(f=d=e.r1,P=e.r2;d<=P;f=d+=1){for(g=0,s=m=e.g1,M=e.g2;m<=M;s=m+=1)for(o=b=e.b1,S=e.b2;b<=S;o=b+=1)g+=t[r(f,s,o)]||0;p+=g,l[f]=p}else if(u===a)for(s=v=e.g1,D=e.g2;v<=D;s=v+=1){for(g=0,f=C=e.r1,I=e.r2;C<=I;f=C+=1)for(o=y=e.b1,k=e.b2;y<=k;o=y+=1)g+=t[r(f,s,o)]||0;p+=g,l[s]=p}else for(o=x=e.b1,j=e.b2;x<=j;o=x+=1){for(g=0,f=_=e.r1,z=e.r2;_<=z;f=_+=1)for(s=w=e.g1,B=e.g2;w<=B;s=w+=1)g+=t[r(f,s,o)]||0;p+=g,l[o]=p}return l.forEach(function(t,e){return c[e]=p-t}),i=function(t){var o,n,r,i,s,a,u,f,h,g,d;for(a=t+"2",u=g=e[s=t+"1"],d=e[a];g<=d;u=g+=1)if(l[u]>p/2){for(o=e.copy(),n=e.copy(),i=(f=u-e[s])<=(h=e[a]-u)?Math.min(e[a]-1,~~(u+h/2)):Math.max(e[s],~~(u-1-f/2));!l[i];)i++;for(r=c[i];!r&&l[i-1];)r=c[--i];return o[a]=i,n[s]=o[a]+1,[o,n]}},u===h?i("r"):u===a?i("g"):u===n?i("b"):void 0}},t.prototype.quantize=function(t,e){var r,a,c,u,l,f,h=this;if(!t.length||e<2||e>256)return console.log("invalid arguments"),!1;for(c=i(t),r=n(t,c),(l=new PriorityQueue(function(t,e){var o,n;return o=t.count(),n=e.count(),o>n?1:o<n?-1:0})).push(r),(u=function(t,e){var o,n,i,a,u;for(a=1,u=0;u<h.maxIterations;)if((r=t.pop()).count()){if(i=s(c,r),o=i[0],n=i[1],!o)return void console.log("cbox1 not defined; shouldn't happen");if(t.push(o),n&&(t.push(n),a++),a>=e)return;if(u++>h.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else t.push(r),u++})(l,this.fractByPopulations*e),f=new PriorityQueue(function(t,e){var o,n;return o=t.count()*t.volume(),n=e.count()*e.volume(),o>n?1:o<n?-1:0});l.size();)f.push(l.pop());for(u(f,e-f.size()),a=new o;f.size();)a.push(f.pop());return a},t}.call(this),function(){window.ColorExtract=function(){function t(){}return t.getColorMap=function(t,e,o,n,r,i){var s,a,c,u,l,f,h,g,p,d;for(null==i&&(i=8),c=t.getContext("2d").getImageData(e,o,n,r).data,u=[],f=h=o,p=o+r;h<p;f=h+=1)for(a=f*n*4,l=g=e,d=e+n;g<d;l=g+=1)s=a+4*l,u.push([c[s],c[s+1],c[s+2]]);return(new MMCQ).quantize(u,i)},t.colorDist=function(t,e){var o;return(o=function(t){return t*t})(t[0]-e[0])+o(t[1]-e[1])+o(t[2]-e[2])},t.extract=function(e,o,n){var r,i,s,a,c,u,l,f,h,g,p,d,m;for(o.width=25,o.height=25,o.getContext("2d").drawImage(e,0,0,o.width,o.height),(i=t.getColorMap(o,0,0,o.width,o.height,4).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),r=i[0].rgb,(l=t.getColorMap(o,0,0,e.width,e.height,10).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),f=0,g=0,d=l.length;g<d;g++)s=l[g],(a=t.colorDist(r,s.rgb))>f&&(f=a,c=s.rgb);for(f=0,p=0,m=l.length;p<m;p++)s=l[p],(a=t.colorDist(r,s.rgb))>f&&s.rgb!==c&&(f=a,u=s.rgb);return h=function(t){return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},n({bgColor:h(r),fgColor:h(c),fgColor2:h(u)})},t}()}.call(this),function(t){t(function(){var n=function(t,e,o){var n;return function(){var r=this,i=arguments,s=o&&!n;clearTimeout(n),n=setTimeout(function(){n=null,o||t.apply(r,i)},e),s&&t.apply(r,i)}};t(".js-popup-menu").jsPopupMenu(),t("html").hasClass("no-placeholder")&&t('input[type="text"],textarea').each(function(){t(this).attr("placeholder")&&!t(this).val()&&t(this).val(t(this).attr("placeholder")),t(this).focus(function(){t(this).val()==t(this).attr("placeholder")&&t(this).val("")}).blur(function(){!t(this).val()&&t(this).attr("placeholder")&&t(this).val(t(this).attr("placeholder"))})}),t(".form_fields:not(.edy-fe-fields) select, .custom-select").jqSelect(),t("body:not(.editmode) table").each(function(){t(this).wrap('<div class="table-holder" />')}),t(".mobile-menu-toggler").click(function(e){e.preventDefault(),t("body").toggleClass("mobilemenu-open"),t("body").removeClass("mobilesearch-open")}),t(".mobile-menu-close").on("click",function(e){e.preventDefault(),t("body").hasClass("language-menu-open")?t("body").removeClass("language-menu-open"):t("body").removeClass("mobilemenu-open")}),t(".language-menu-btn").on("click",function(e){e.preventDefault(),t("body").addClass("language-menu-open")}),t(".comment-form-focus-input").focus(function(){t(this).hide();t(this).closest(".comment-form").find(".form_area").show().find("textarea").focus()}),t("body").hasClass("editmode")&&(o(),t(window).resize(n(o,100))),t("body").hasClass("front-page")&&(e(),t(".tbl").css("visibility","visible"),t(window).resize(n(e,100))),t(".comment-form").hasClass("form_with_errors")?t("html, body").scrollTop(t(".comment-form").offset().top):t("form").find(".form_error, .form_notice").length>0&&t("html, body").scrollTop(t(".form_error, .form_notice").closest("form").offset().top)});var e=function(){var e=t(window).height();t(".tbl").css("height","auto").height(e-140)},o=function(){var e=t(".site-title:visible");e.is(":empty")&&t(".site-title-editable").appendTo(e)},n=function(){frontPageContentCoverCombinedLightness>=.68?t(".js-background-type").addClass("light-background").removeClass("dark-background"):t(".js-background-type").addClass("dark-background").removeClass("light-background")},r=function(e,o){return function(e,o){if(e&&o){"string"==typeof e&&(e=e.replace(/rgba?\(/,"").replace(/\)/,"").split(","),t.each(e,function(t,o){e[t]=+o})),"string"==typeof o&&(o=o.replace(/rgba?\(/,"").replace(/\)/,"").split(","),t.each(o,function(t,e){o[t]=+e})),"object"==typeof e&&e.hasOwnProperty("length")&&3==e.length&&e.push(1),"object"==typeof o&&o.hasOwnProperty("length")&&3==o.length&&o.push(1);var n=[0,0,0,0];return n[3]=1-(1-o[3])*(1-e[3]),0===n[3]&&(n[3]=1e-6),n[0]=Math.min(o[0]*o[3]/n[3]+e[0]*e[3]*(1-o[3])/n[3],255),n[1]=Math.min(o[1]*o[3]/n[3]+e[1]*e[3]*(1-o[3])/n[3],255),n[2]=Math.min(o[2]*o[3]/n[3]+e[2]*e[3]*(1-o[3])/n[3],255),t.map(n,function(t){return Math.floor(t)})}}(e||[255,255,255,1],o||[255,255,255,1])},i=function(t,e){var o=r(t,e);return Math.round((.2126*+o[0]+.7152*+o[1]+.0722*+o[2])/2.55)/100};window.site=t.extend(window.site||{},{toggleFlags:function(){t(".js-option-toggle-flags").on("click",function(e){if(e.stopPropagation(),t(this).hasClass("js-flag-disable-btn"))var o=!1;else o=!0;siteData.set("flags_state",o),t(this).toggleClass("js-flag-disable-btn"),t(".js-menu-lang-wrap").toggleClass("flags-enabled flags-disabled")})},frontPageContentCoverBgPreview:function(e,o){var r=t(".js-bgpicker-cover-image").css("background-image"),s=e.imageSizes?function(t,e){for(var o,n=0,r=t.length;n<r;n++){if(t[n].width<e)return o||t[n];o=t[n]}return t[t.length-1]}(e.imageSizes,t(window).width()):null,a=e.image&&""!==e.image?"url("+s.url+")":"none",c=e.imageSizes&&""!==e.imageSizes?e.imageSizes:null,u=e.color&&""!==e.color?e.color:"rgba(0,0,0,0)",l=(e.colorData&&""!==e.colorData&&e.colorData.lightness,t("<img>")),f=t("<canvas>"),h=e.image&&""!==e.image?e.image:null;h?function(t,e){for(var o=t.length;o--;)if(e.indexOf(t[o].url.trim())>-1)return!0;return!1}(c,r)?(frontPageContentBg.frontPageContentBgImageColor=frontPageContentBg.frontPageContentBgImageColor?frontPageContentBg.frontPageContentBgImageColor:"rgba(224,210,207,1)",frontPageContentCoverCombinedLightness=i(frontPageContentBg.frontPageContentBgImageColor,u),n()):(l.attr("src",h.replace(/.*\/(photos|voogstock)/g,"/photos")),l.on("load",function(){ColorExtract.extract(l[0],f[0],function(t){frontPageContentBg.frontPageContentBgImageColor=t.bgColor?t.bgColor:"rgba(255,255,255,1)",frontPageContentCoverCombinedLightness=i(frontPageContentBg.frontPageContentBgImageColor,u),n()})})):(frontPageContentBg.frontPageContentBgImageColor="rgba(255,255,255,1)",frontPageContentCoverCombinedLightness=i(frontPageContentBg.frontPageContentBgImageColor,u),n()),t(o).find(".js-bgpicker-cover-image").css({"background-image":a}),t(o).find(".js-bgpicker-cover-color").css({"background-color":u})},frontPageContentCoverBgCommit:function(e,o){var n=t.extend(!0,{},e);n.image=e.image||"",n.imageSizes=function(t){return null==t||"string"==typeof t&&t.match(/^[\\'"]+$/)?"":t}(e.imageSizes),n.color=e.color||"rgba(255,255,255,0)",n.combinedLightness=frontPageContentCoverCombinedLightness,pageData.set(o,n)},handleFrontPageContentCoverColorScheme:function(e){void 0!==e&&(e>.6?t(".header-wrapper").addClass("light").removeClass("dark"):t(".header-wrapper").addClass("dark").removeClass("light"))}});window.template=t.extend(window.template||{},{bindCustomTexteditorStyles:function(t){window.edy=window.edy||[],edy.push(["texteditorStyles",{name:t,tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])}})}(jQuery),function(t){t.fn.extend({jsPopupMenu:function(e){return this.each(function(){var e=t(this),o=e.find(".js-popup-menu-btn"),n=e.find(".js-popup-menu-popover");n.hide(),o.on("click",function(e){e.preventDefault(),n.is(":hidden")&&(n.show(),o.addClass("open"),setTimeout(function(){t(document).on("click.js-popup-menu-click",function(){n.hide(),o.removeClass("open"),t(this).off(".js-popup-menu-click")})},0))})}),this}})}(jQuery),function(t){t.jquerySelect={init:function(e,o){e.wrap('<div class="jq-select" />');var n=e.parent(),r=t('<div class="jq-select-arrow"></div>'),i=t('<div class="jq-select-content" />'),s=t('<div class="jq-select-inner" />').text(e.children(":selected").text());i.append(s),n.append(i),n.append(r),e.hasClass("form_field_size_large")?(e.removeClass("form_field_size_large"),n.addClass("form_field_size_large")):e.hasClass("form_field_size_medium")?(e.removeClass("form_field_size_medium"),n.addClass("form_field_size_medium")):e.hasClass("form_field_size_small")?(e.removeClass("form_field_size_small"),n.addClass("form_field_size_small")):n.addClass("form_field_size_small"),e.change(t.proxy(function(){s.text(e.children(":selected").text())},this)),e.keyup(t.proxy(function(){s.text(e.children(":selected").text())},this)),e.bind("update",t.proxy(function(){s.text(e.children(":selected").text())},this))}},t.fn.extend({jqSelect:function(e){return this.each(function(){var o=t.extend({},e);t.jquerySelect.init(t(this),o)}),this}})}(jQuery);